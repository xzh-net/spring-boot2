# API版本控制

## 控制方式

1. URL路径版本控制。如：/api/v1/order/123，/api/v2/order/123
2. 请求参数版本控制。如：/api/order?v=1，/api/order?v=2

## 方案对比

| 特性            | URL路径版本控制 | 查询参数版本控制 |
| :-------------- | :-------------- | :--------------- |
| **RESTful规范** | ✅ 更符合        | ⚠️ 稍差           |
| **缓存友好**    | ✅ 更好          | ⚠️ 一般           |
| **客户端兼容**  | ✅ 好            | ✅ 很好           |
| **代码清晰度**  | ✅ 更好          | ⚠️ 一般           |
| **浏览器测试**  | ✅ 方便          | ⚠️ 稍麻烦         |

## 代码场景

1. 【V1】只有订单查询功能
2. 【V2】增加了删除功能
3. 调用【V2】的查询实则继承了【V1】的查询功能。高版本可以访问低版本接口，低版本无法访问高版本接口